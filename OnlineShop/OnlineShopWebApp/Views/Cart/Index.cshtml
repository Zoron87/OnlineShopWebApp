@model Cart;

@{
	ViewData["Title"] = "Корзина";
}

@if (Model == null || Model.Items.Count == 0 || Model.Items == null)
{
	<h1>Корзина пуста</h1>
	<p><a asp-controller="Home" asp-action="Index">Вернуться на главную страницу</a></p>
}
else
{
	<div class="container-fluid">
		<div class="row">
			<div class="table-responsive">
				<table class="table offcanvasCart-table">
					<tbody>
						@foreach (var item in Model.Items)
						{
							<tr>
								<td class="product-img-td"><a asp-controller="Product" asp-action="Index" asp-route-productId="@item.Product.Id"><img src="~/img/products/@item.Product.ImagePath" alt="@item.Product.Name"></a></td>
								<td><a asp-controller="Product" asp-action="Index" asp-route-productId="@item.Product.Id">@item.Product.Name</a></td>
								<td>@item.Product.Cost р.</td>
								<td><a asp-controller="Cart" asp-action="Increase" asp-route-productId="@item.Product.Id" asp-route-quantity="1"><i class="fa-solid fa-plus"></i></a></td>
								<td>@item.Quantity</td>
								<td><a asp-controller="Cart" asp-action="Reduce" asp-route-productId="@item.Product.Id" asp-route-quantity="1"><i class="fa-solid fa-minus"></i></a></td>
								<td><a class="btn btn-danger" style="display:inline;" asp-controller="Cart" asp-action="Delete" asp-route-productId="@item.Product.Id"><i class="fa-solid fa-circle-xmark"></i></a></td>
							</tr>
						}
					</tbody>
					<tfoot>
						<tr>
							<td colspan="4" class="text-end">Total: @Model.Cost() р.</td>
						</tr>
					</tfoot>
				</table> <!-- //table offcanvasCart-table -->
			</div>

			<div class="text-end mt-3 cart-buttons">
				<a asp-controller="Order" asp-action="Details" class="btn btn-outline-primary">Оформить заказ</a>
				<a asp-controller="Cart" asp-action="Clear" class="btn btn-outline-dark">Очистить корзину</a>
				<a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary">Вернуться на главную страницу</a>
			</div>
		</div>
	</div>
}