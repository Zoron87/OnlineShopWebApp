@model List<Order>

@{
	ViewData["Title"] = "Список заказов";
	int i = 1;
}

<div style="float: left; margin-right: 56px;">
   @await Html.PartialAsync("AdminMenu")
</div>

<h3>Список заказов</h3>

@if (Model == null || Model.Count == 0)
{
	<h3>Список заказов пуст!</h3>
	<p><a asp-controller="Home" asp-action="Index">Вернуться на главную страницу</a></p>
}
else
{
	<div class="contianer-fluid">
		<div class="row">
			<table class="table">
				<thead>
					<tr>
						<th scope="col">Номер</th>
						<th scope="col">Имя покупателя</th>
						<th scope="col">Email</th>
						<th scope="col">Дата</th>
						<th scope="col">Общая сумма</th>
						<th scope="col">Статус</th>
						<th scope="col"></th>
					</tr>
				</thead>
				<tbody>
					@foreach (var order in Model)
					{
						<tr>
							<td><a>@(i)</a></td>
							<td>@order.OrderDetails.Name</td>
							<td>@order.OrderDetails.Email</td>
							<td>@order.CreatedTime.ToString("dd:MM:yyyy-HH:mm")</td>
							<td><strong>@order.Cart.Cost()</strong></td>
							<td>@EnumHelper.GetDisplayName(@order.OrderStatus)</td>
							<td><a asp-controller="Order" asp-action="Details" asp-route-orderid="@order.Id" class="btn btn-primary">Подробнее</a></td>
						</tr>
						i++;
					}
				</tbody>
			</table>
		</div>
	</div>
}
